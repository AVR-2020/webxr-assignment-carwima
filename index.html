<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simugrab</title>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <!-- a bunch of scripts idk what's for.. yet-->
    <script src="https://unpkg.com/aframe-teleport-controls@0.2.x/dist/aframe-teleport-controls.min.js"></script>
    <script src="https://unpkg.com/aframe-controller-cursor-component@0.2.x/dist/aframe-controller-cursor-component.min.js"></script>
    <script src="https://rawgit.com/ngokevin/kframe/csstricks/scenes/aincraft/components/random-color.js"></script>
    <script src="https://rawgit.com/ngokevin/kframe/csstricks/scenes/aincraft/components/snap.js"></script>
    <script src="https://rawgit.com/ngokevin/kframe/csstricks/scenes/aincraft/components/intersection-spawn.js"></script>
    
    <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-physics-system@v4.0.1/dist/aframe-physics-system.min.js"></script>

    <script src="index.js"></script>
</head>
<body>
    <a-scene physics="debug:true">
        
        <a-assets>
            <a-mixin id="voxel"
            geometry="primitive: box; height: 0.5; width: 0.5; depth: 0.5"
            material="shader: standard"
            random-color
            snap="offset: 0.25 0.25 0.25; snap: 0.5 0.5 0.5"
            ></a-mixin>

            <img id="wall" src="textures/seamless_wall.jpg">
            <img id="wall2" src="textures/seamless_wall2.png">
            <img id="grass" src="textures/seamless_grass.jpg">
            <img id="road" src="textures/seamless_road.jpg">
            
            <a-asset-item id="gedung_01" src="models/bld_01.glb"></a-asset-item>
            <a-asset-item id="gedung_02" src="models/bld_02/scene.gltf"></a-asset-item>
            <a-asset-item id="tree" src="models/tree_1/scene.gltf"></a-asset-item>
            <a-asset-item id="house1" src="models/house1/scene.gltf"></a-asset-item>
            <a-asset-item id="house2" src="models/house2/scene.gltf"></a-asset-item>
            <a-asset-item id="house3" src="models/house3/scene.gltf"></a-asset-item>
            <a-asset-item id="house4" src="models/house4/scene.gltf"></a-asset-item>
            <a-asset-item id="house5" src="models/house5/scene.gltf"></a-asset-item>
            <a-asset-item id="char1" src="models/char_1/scene.gltf"></a-asset-item>
        </a-assets>
        
        <a-entity id="rig" movement-controls     kinematic-body camera-listener position="12  0 -48"  rotation="0 225 0" >
            <a-entity id="text-start" position="0 1 -3" threetext="text:Start!;" visible=true cursor-text>  
            </a-entity>
            <a-entity id="text-succeed" position="0 1 -4" threetext visible=false>
            </a-entity>
            <a-entity id="camera" camera position="0 1.6 0" look-controls>
                <a-cursor></a-cursor>
                <a-text id="score" value="00:00" position="0 2.3 -3">
                    <a-entity geometry="primitive:plane; height: 0.3; width: 0.6" position="0.3 0 0"></a-entity>
                </a-text>
            </a-entity>
        </a-entity>

        <a-gltf-model
            rotate="0 180 0"
            id="ged_1"
            src="#gedung_01"
            position="65  0.5 25"
            scale="5 5 5"
            static-body="shape: box;"
        ></a-gltf-model>

        <a-gltf-model 
            id="ged_21"
            src="#gedung_02"
            position="87 0 -40"
            scale="6 6 6 "
            static-body= "shape: box;"
        ></a-gltf-model>
        <a-gltf-model 
            id="ged_22"
            src="#gedung_02"
            position="87 0 -27"
            scale="6 6 6 "
            static-body= "shape: box;"
        ></a-gltf-model>
        <a-gltf-model 
            id="ged_23"
            src="#gedung_02"
            position="87 0 -14"
            scale="6 6 6 "
            static-body= "shape: box;"
        ></a-gltf-model>
        <a-gltf-model 
            id="ged_24"
            src="#gedung_02"
            position="87 0 -1"
            scale="6 6 6 "
            static-body= "shape: box;"
        ></a-gltf-model>
        
        <a-gltf-model
            id="house1"
            src="#house1"
            position="63  0.5 -40"
            scale="0.1 0.1 0.1"
            static-body="shape: box;"
        ></a-gltf-model>
        
        <a-gltf-model
            id="house1"
            src="#house1"
            position="63  0.5 -30"
            scale="0.1 0.1 0.1"
            static-body="shape: box;"
        ></a-gltf-model>

        <a-gltf-model
            id="house1"
            src="#house1"
            position="63  0.5 -20"
            scale="0.1 0.1 0.1"
            static-body="shape: box;"
        ></a-gltf-model>

        
        <a-gltf-model
            id="house1"
            src="#house1"
            position="63  0.5 -10"
            scale="0.1 0.1 0.1"
            static-body="shape: box;"
        ></a-gltf-model>

        <a-gltf-model
            id="house_21"
            src="#house2"
            position="45  2.17 41"
            scale="0.015 0.015 0.015"
            static-body="shape: box;"
        ></a-gltf-model>
        
        
        <a-gltf-model
            id="house3"
            src="#house3"
            position="17  0.5 43"
            scale="1.5 1.5 1.5"
            static-body="shape: box;"
        ></a-gltf-model>

        <a-gltf-model
            id="house3"
            src="#house3"
            position="29  0.5 43"
            scale="1.5 1.5 1.5"
            static-body="shape: box;"
        ></a-gltf-model>
        <a-entity>
            <a-gltf-model
                id="house4"
                src="#house4"
                position="20 0.5 -40"
                scale="0.02 0.02 0.02"
                static-body="shape: box;"
            ></a-gltf-model>
            
            <a-gltf-model
                id="house4"
                src="#house4"
                position="32 0.5 -40"
                scale="0.02 0.02 0.02"
                static-body="shape: box;"
            ></a-gltf-model>
            
            <a-gltf-model
                id="house4"
                src="#house4"
                position="39 0.5 -40"
                scale="0.02 0.02 0.02"
                static-body="shape: box;"
            ></a-gltf-model>
            
            <a-gltf-model
                id="house4"
                src="#house4"
                position="52 0.5 -40"
                scale="0.02 0.02 0.02"
                static-body="shape: box;"
            ></a-gltf-model>
        </a-entity>
        <a-entity position="0 0 11">
            <a-gltf-model
                id="house4"
                src="#house4"
                position="20 0.5 -40"
                scale="0.02 0.02 0.02"
                static-body="shape: box;"
            ></a-gltf-model>
            
            <a-gltf-model
                id="house4"
                src="#house4"
                position="32 0.5 -40"
                scale="0.02 0.02 0.02"
                static-body="shape: box;"
            ></a-gltf-model>
            
            <a-gltf-model
                id="house4"
                src="#house4"
                position="39 0.5 -40"
                scale="0.02 0.02 0.02"
                static-body="shape: box;"
            ></a-gltf-model>
            
            <a-gltf-model
                id="house4"
                src="#house4"
                position="52 0.5 -40"
                scale="0.02 0.02 0.02"
                static-body="shape: box;"
            ></a-gltf-model>
        </a-entity>
        <a-entity position="0 0 22">
            <a-gltf-model
                id="house4"
                src="#house4"
                position="20 0.5 -40"
                scale="0.02 0.02 0.02"
                static-body="shape: box;"
            ></a-gltf-model>

            <a-gltf-model
                id="house4"
                src="#house4"
                position="32 0.5 -40"
                scale="0.02 0.02 0.02"
                static-body="shape: box;"
            ></a-gltf-model>

            <a-gltf-model
                id="house4"
                src="#house4"
                position="39 0.5 -40"
                scale="0.02 0.02 0.02"
                static-body="shape: box;"
            ></a-gltf-model>

            <a-gltf-model
                id="house4"
                src="#house4"
                position="52 0.5 -40"
                scale="0.02 0.02 0.02"
                static-body="shape: box;"
            ></a-gltf-model>
        </a-entity>

        <a-gltf-model
            id="house5"
            src="#house5"
            position="23 0.5 20"
            scale="1.2 1.2 1.2"
            static-body="shape: box;"
        ></a-gltf-model>
        <a-box
            id="obj_wall"
            repeat="15 2"
            src="#wall2"
            position="55 1.5 -25"
            scale="0.2 2 40"
            static-body="shape: box;"
        ></a-box>
        <a-box
            id="obj_wall"
            repeat="15 2"
            src="#wall2"
            position="55 1.5 -50"
            scale="0.2 2 10"
            static-body="shape: box;"
        ></a-box>
        <a-box
            id="obj_wall"
            repeat="15 2"
            src="#wall2"
            position="55 1.5 -25"
            scale="0.2 2 40"
            static-body="shape: box;"
        ></a-box>
<!--
        <a-box
            id="obj_wall"
            repeat="10 2"
            src="#wall2"
            position="57 1.5 -44"
            scale="0.2 2 12"
            static-body="shape: box;"
        ></a-box>
-->

        <a-box
            id="comp2_wall"
            repeat="10 2"
            src="#wall2"
            position="32 1.5 7"
            scale="32 2 0.2"
            static-body="shape: box;"
        ></a-box>
        <a-box
            id="comp1_wall"
            repeat="10 2"
            src="#wall2"
            position="36 1.5 -5"
            scale="38 2 0.2"
            static-body="shape: box;"
        ></a-box>
        <a-box
            id="rs_wall"
            repeat="10 2"
            src="#wall2"
            position="48 1.5 30"
            scale="0.2 2 46.1"
            static-body="shape: box;"
        ></a-box>

        <a-box
            id="rs_wall"
            repeat="10 2"
            src="#wall2"
            position="76 1.5 7"
            scale="30 2 0.2"
            static-body="shape: box;"
        ></a-box>

        <a-box
            id="rs_wall"
            repeat="10 2"
            src="#wall2"
            position="52 1.5 7"
            scale="8 2 0.2"
            static-body="shape: box;"
        ></a-box>

        <a-entity id="base_map"
        position="40 0 0"
        >
            <a-box
                id="edge_wall1"
                repeat="50 2"
                src="#wall2"
                position="50 1.5 0"
                scale="0.2 2 100"
                static-body="shape: box;"
            ></a-box>
            <a-box
                id="edge_wall1"
                repeat="50 2"
                src="#wall2"
                position="-30 1.5 0"
                scale="0.2 2 100"
                static-body="shape: box;"
            ></a-box>
            <a-box
                id="edge_wall2"
                repeat="50 2"
                src="#wall2"
                position="0 1.5 50"
                scale="100 2 0.2"
                static-body="shape: box;"
            ></a-box>
            <a-box
                id="edge_wall2"
                repeat="50 2"
                src="#wall2"
                position="0 1.5 -50"
                scale="100 2 0.2"
                static-body="shape: box;"
            ></a-box>
            <a-box
            static-body="shape: box;"
            id="obj_road"
            material="src:#road; repeat: 80 80"
            position="10 0 0"
            scale="80 1 100"
            ></a-box>
            <a-box
            id="obj_grass"
            material="src:#grass; repeat: 20 20"
            position="-11 0 30"
            scale="38 1.1 46"
            ></a-box>
        </a-entity>
        
        <a-gltf-model 
            static-body="shape: box;"
            id="rs_tree"
            repeat="5 2"
            src="#tree"
            position="60 0.5 15"
            scale="0.05 0.05 0.05"
            ></a-gltf-model>
        <a-gltf-model 
            static-body="shape: box;"
            id="rs_tree"
            repeat="5 2"
            src="#tree"
            position="74.5 0.5 15"
            scale="0.05 0.05 0.05"
            ></a-gltf-model>

        <a-gltf-model 
            static-body="shape: box;"
            id="char_1"
            repeat="5 2"
            src="#char1"
            position="64 0.5 -9"
            scale="0.01 0.01 0.01"
            cursor_char
            ></a-gltf-model>
        <a-sky color="lightblue"></a-sky>
    </a-scene>
</body>
</html>